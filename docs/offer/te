N,M=map(int,input().split())
matrix=[list(map(int,input().split())) for _ in range(N)]
res=-2**31
matrix=[[0]*M]+matrix
for i in range(1,N+1):
    matrix[i]=[matrix[i][index]+matrix[i-1][index] for index in range(M)]
for r in range(1,N+1):
    for i in range(N-r+1):
        temparr=[matrix[i+r][index]-matrix[i][index] for index in range(M)]
        temp=0
        for n in temparr:
            temp=temp+n if temp>0 else n
            res=max(res,temp)
print(res)

